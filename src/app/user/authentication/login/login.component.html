<div class="container">
  <h1 class="title">Login</h1>
  <hr />
  <div class="notification is-danger" *ngIf="error.length > 0"><button class="delete"></button> {{error}}</div>
  <div class="columns is-centered">
    <div class="column is-half is-narrow">
      <form name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate>
        <div class="field" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
          <label class="label" for="username">Username</label>
          <div class="control">
            <input class="input" id="username" name="username" [(ngModel)]="model.username" #username="ngModel" required>
          </div>
          <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>
        </div>

        <div class="field" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
          <label class="label" for="password">Password</label>
          <div class="control">
            <input class="input" type="password" id="password" name="password" [(ngModel)]="model.password" #password="ngModel" required />
          </div>
          <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>
        </div>
        <div class="has-text-centered" *ngIf="loading">
            <span class="icon is-large">
              <i class="fa fa-cog fa-spin fa-3x fa-fw" aria-hidden="true"></i>
            </span>
        </div>
        <div class="field is-grouped is-grouped-right">
          <div class="control">
            <button [disabled]="loading" class="button is-primary">Login</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class="has-text-centered">
    <p>
      Not registered yet? <a routerLink="/register" class="link">Register</a> now!
    </p>
  </div>
</div>
